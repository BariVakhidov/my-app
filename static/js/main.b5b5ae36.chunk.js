(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){e.exports={container:"Preloader_container__3L8Wv",ldsEllipsis:"Preloader_ldsEllipsis__1LsFx","lds-ellipsis1":"Preloader_lds-ellipsis1__3uM1P","lds-ellipsis2":"Preloader_lds-ellipsis2__n0tov","lds-ellipsis3":"Preloader_lds-ellipsis3__1xcc2"}},107:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__14O2X",posts:"MyPosts_posts__3tZ1c",newPost:"MyPosts_newPost__3FkQO"}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),s=n(3),a=n(7),c=n(5),i=n(6),o=n(1),u=n(0),l=n.n(u),d=n(13),j=n(18),p=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(c.a)(u,t);var n=Object(i.a)(u);function u(){return Object(s.a)(this,u),n.apply(this,arguments)}return Object(a.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(o.jsx)(e,Object(r.a)({},this.props)):Object(o.jsx)(d.a,{to:"/login"})}}]),u}(l.a.Component);return Object(j.b)(p)(t)}},140:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(20),s=n(2),a="SEND-MESSAGE",c=function(e){return{type:a,newMessageText:e}},i={dialogsData:[{id:1,name:"Roman"},{id:2,name:"Andrew"},{id:3,name:"Demin"},{id:4,name:"Ustin"},{id:5,name:"Lera"},{id:6,name:"Valeria"},{id:7,name:"Lerchick"}],messagesData:[{id:1,message:"Hi!"},{id:2,message:"How are you?"},{id:3,message:"Nigga"},{id:4,message:"Urot"},{id:5,message:"Kus'"},{id:6,message:"Sup"},{id:7,message:"Yo"}]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n={id:Math.floor(10*Math.random()),message:t.newMessageText};return Object(s.a)(Object(s.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[n])});default:return e}}},180:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},19:function(e,t,n){e.exports={navbar:"Nav_navbar__3StKe",navbarBlack:"Nav_navbarBlack__FxthX",nav:"Nav_nav__17y5a",friends:"Nav_friends__3CLOr",friendsItems:"Nav_friendsItems__2uJ6h",item:"Nav_item__3wIZV",active:"Nav_active__3Y3S2"}},27:function(e,t,n){e.exports={user:"Users_user__1dQYj",firstUserInfo:"Users_firstUserInfo__2gPnO",userPhoto:"Users_userPhoto__17MJB",userInfo:"Users_userInfo__21fTd",page:"Users_page__2GugC",selectedPage:"Users_selectedPage__J63sh",pages:"Users_pages__2ZPtK",followButton:"Users_followButton__2xwHU",turnPageLeft:"Users_turnPageLeft__ry1v0",turnPageRight:"Users_turnPageRight__5UBuI"}},311:function(e,t,n){"use strict";n.r(t);var r=n(1),s=(n(180),function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,315)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))}),a=n(75),c=n.n(a),i=n(0),o=n.n(i),u=n(3),l=n(7),d=n(5),j=n(6),p=n(13),b=n(22),f=(n(183),n(2)),h=n(17),O=n(110),m=(n(184),function(){function e(e){var t=Object(i.useRef)(),n=Object(i.useState)(!1),s=Object(h.a)(n,2),a=s[0],c=s[1],o=Object(i.useState)(!1),u=Object(h.a)(o,2),l=u[0],d=u[1];return Object(O.b)((function(){t.current.rotation.x=t.current.rotation.y+=.01})),Object(r.jsxs)("mesh",Object(f.a)(Object(f.a)({},e),{},{ref:t,scale:l?[2,2,2]:[1,1,1],onClick:function(e){return d(!l)},onPointerOver:function(e){return c(!0)},onPointerOut:function(e){return c(!1)},children:[Object(r.jsx)("boxBufferGeometry",{args:[1,1,1]}),Object(r.jsx)("meshStandardMaterial",{color:a?"hotpink":"blue"})]}))}return Object(r.jsxs)(O.a,{children:[Object(r.jsx)("ambientLight",{}),Object(r.jsx)("pointLight",{position:[10,10,10]}),Object(r.jsx)(e,{position:[0,0,0]})]})}),g=n(18),x=n(19),v=n.n(x),_=n(84),P=n.n(_),w=n.p+"static/media/pepe.361d7ae6.gif",k=function(e){var t="/profile/"+e.id;return Object(r.jsx)("div",{className:P.a.friend,children:Object(r.jsx)(b.b,{to:t,children:Object(r.jsxs)("div",{className:P.a.container,children:[Object(r.jsx)("img",{alt:"userPhoto",src:null!=e.image?e.image:w}),Object(r.jsx)("div",{className:P.a.name,children:e.name})]})})})},y=function(e){return e.isAuth?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.friendsCount}),Object(r.jsx)("div",{className:v.a.friendsItems,children:e.friends.map((function(e){return Object(r.jsx)(k,{name:e.name,id:e.id,image:e.photos.small},e.id)}))}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Show more"})})]}):Object(r.jsx)("div",{children:"0"})},C=function(e){return Object(r.jsxs)("nav",{className:v.a.navbar+" "+(e.blackTheme&&v.a.navbarBlack),children:[Object(r.jsxs)("div",{className:v.a.nav,children:[Object(r.jsx)("div",{className:v.a.item,children:Object(r.jsx)(b.b,{to:"/profile",activeClassName:v.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:v.a.item,children:Object(r.jsx)(b.b,{to:"/dialogs",activeClassName:v.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:v.a.item,children:Object(r.jsx)(b.b,{to:"/news",activeClassName:v.a.active,children:"News"})}),Object(r.jsx)("div",{className:v.a.item,children:Object(r.jsx)(b.b,{to:"/users",activeClassName:v.a.active,children:"Users"})}),Object(r.jsx)("div",{className:v.a.item,children:Object(r.jsx)(b.b,{to:"/music",activeClassName:v.a.active,children:"Music"})}),Object(r.jsx)("div",{className:v.a.item,children:Object(r.jsx)(b.b,{to:"/settings",activeClassName:v.a.active,children:"Settings"})})]}),Object(r.jsxs)("div",{className:v.a.item+" "+v.a.friends,children:[Object(r.jsx)(b.b,{to:"/friends",activeClassName:v.a.active,children:"Friends"}),Object(r.jsx)("div",{children:Object(r.jsx)(y,Object(f.a)({},e))})]})]})},S=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(r.jsx)(C,Object(f.a)({},this.props))}}]),n}(o.a.Component),N=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,friends:e.usersPage.showingFriends,friendsCount:e.usersPage.totalFriends,blackTheme:e.app.blackTheme}}),{})(S),U=n(21),I=n(27),T=n.n(I),F=function(e){for(var t=e.portionSize,n=void 0===t?10:t,s=Object(U.a)(e,["portionSize"]),a=Math.ceil(s.totalUsers/s.pageSize),c=[],o=1;o<=a;o++)c.push(o);var u=Math.ceil(a/n),l=Object(i.useState)(1),d=Object(h.a)(l,2),j=d[0],p=d[1],b=j*n,f=(j-1)*n+1;return Object(r.jsxs)("div",{className:T.a.pages,children:[j>1&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:T.a.turnPageLeft,onClick:function(){p(j-1)},children:Object(r.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Arrow_Blue_Left_001.svg/1200px-Arrow_Blue_Left_001.svg.png",alt:""})})}),c.filter((function(e){return e>=f&&e<=b})).map((function(e){return Object(r.jsx)("div",{className:s.currentPage===e&&T.a.selectedPage||T.a.page,onClick:function(){s.onPageChange(e)},children:e},e)})),u>j&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:T.a.turnPageRight,onClick:function(){p(j+1)},children:Object(r.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Arrow_Blue_Right_001.svg/768px-Arrow_Blue_Right_001.svg.png",alt:""})})})]})},E=n.p+"static/media/pepe.a35c99f6.png",A=function(e){var t=e.user,n=e.followingProgress,s=e.unfollowUser,a=e.friendsCount,c=e.followUser;return Object(r.jsxs)("div",{className:T.a.user,children:[Object(r.jsxs)("div",{className:T.a.firstUserInfo,children:[Object(r.jsx)("div",{children:Object(r.jsx)(b.b,{to:"/profile/"+t.id,children:Object(r.jsx)("img",{className:T.a.userPhoto,src:null!=t.photos.small?t.photos.small:E,alt:""})})}),Object(r.jsx)("div",{className:T.a.followButton,children:t.followed?Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id,a)},children:"Unfollow"}):Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id,a)},children:"Follow"})})]}),Object(r.jsxs)("div",{className:T.a.userInfo,children:[Object(r.jsx)("div",{children:t.name}),Object(r.jsx)("div",{children:t.status})]})]})},L=function(e){var t=e.currentPage,n=e.totalUsers,s=e.onPageChange,a=e.pageSize,c=e.users,i=Object(U.a)(e,["currentPage","totalUsers","onPageChange","pageSize","users"]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(F,{currentPage:t,totalUsers:n,onPageChange:s,pageSize:a}),Object(r.jsx)("div",{children:c.map((function(e){return Object(r.jsx)(A,{className:T.a.user,user:e,followingProgress:i.followingProgress,unfollowUser:i.unfollowUser,followUser:i.followUser},e.id)}))})]})},M=n(16),D=n.n(M),B=n(26),R=n(20),z=n(149).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ce965d48-0f0d-4dbd-a6dd-6446daa3c846"}}),H={getUsers:function(e,t){return z.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return z.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return z.delete("follow/".concat(e)).then((function(e){return e.data}))}},G=function(){return z.get("auth/me")},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return z.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},W=function(){return z.delete("auth/login").then((function(e){return e.data}))},V=function(e){return z.get("profile/".concat(e))},Y=function(e){return z.get("profile/status/".concat(e))},K=function(e){return z.put("profile/status",{status:e})},X=function(){return z.get("users?page=1&count=+3&friend=true").then((function(e){return e.data}))},Z=function(e,t){return z.get("users?page=".concat(e,"&count=").concat(t,"&friend=true")).then((function(e){return e.data}))},Q=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(f.a)(Object(f.a)({},e),r):e}))},q="FOLLOW",$="UNFOLLOW",ee="SET_USERS",te="SET_FRIENDS",ne="SET_SHOWING_FRIENDS",re="SET_PAGE",se="SET_CURRENT_PAGE",ae="SET_FRIENDS_CURRENT_PAGE",ce="SET_TOTAL_USERS",ie="SET_TOTAL_FRIENDS",oe="TOGGLE_IS_FETCHING",ue="TOGGLE_IS_FOLLOWING_PROGRESS",le=function(e){return{type:q,userId:e}},de=function(e){return{type:$,userId:e}},je=function(e){return{type:ne,friends:e}},pe=function(){return{type:re}},be=function(e){return{type:se,pageNumber:e}},fe=function(e){return{type:ae,pageNumber:e}},he=function(e){return{type:ce,totalUsers:e}},Oe=function(e){return{type:ie,totalFriends:e}},me=function(e){return{type:oe,isFetching:e}},ge=function(e,t){return{type:ue,isFetching:e,userId:t}},xe={users:[],friends:[],totalUsers:0,totalFriends:0,pageSize:5,currentPage:1,friendsCurrentPage:1,isFetching:!0,followingProgress:[],showingFriends:[]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(f.a)(Object(f.a)({},e),{},{users:Q(e.users,t.userId,"id",{followed:!0}),friends:Q(e.friends,t.userId,"id",{followed:!0})});case $:return Object(f.a)(Object(f.a)({},e),{},{users:Q(e.users,t.userId,"id",{followed:!1}),friends:Q(e.friends,t.userId,"id",{followed:!1})});case re:return Object(f.a)(Object(f.a)({},e),{},{currentPage:1});case ee:return Object(f.a)(Object(f.a)({},e),{},{users:t.users});case te:return Object(f.a)(Object(f.a)({},e),{},{friends:t.friends});case ne:return Object(f.a)(Object(f.a)({},e),{},{showingFriends:t.friends});case se:return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.pageNumber});case ae:return Object(f.a)(Object(f.a)({},e),{},{friendsCurrentPage:t.pageNumber});case ce:return Object(f.a)(Object(f.a)({},e),{},{totalUsers:t.totalUsers});case ie:return Object(f.a)(Object(f.a)({},e),{},{totalFriends:t.totalFriends});case oe:return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.isFetching});case ue:return Object(f.a)(Object(f.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(R.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},_e=function(){var e=Object(B.a)(D.a.mark((function e(t,n,r,s){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ge(!0,n)),e.next=3,r(n);case 3:if(0!==e.sent.resultCode){e.next=11;break}return t(s(n)),e.next=8,X();case 8:a=e.sent,t(je(a.items)),t(Oe(a.totalCount));case 11:t(ge(!1,n));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),Pe=function(e){return function(){var t=Object(B.a)(D.a.mark((function t(n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e(n,e,H.unFollowUser.bind(H),de);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(B.a)(D.a.mark((function t(n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e(n,e,H.followUser.bind(H),le);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ke=n(106),ye=n.n(ke),Ce=function(){return Object(r.jsx)("div",{className:ye.a.container,children:Object(r.jsxs)("div",{className:ye.a.ldsEllipsis,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})},Se=n(15),Ne=function(e){return e.usersPage.users},Ue=function(e){return e.usersPage.totalUsers},Ie=function(e){return e.usersPage.pageSize},Te=function(e){return e.usersPage.currentPage},Fe=function(e){return e.usersPage.isFetching},Ee=function(e){return e.usersPage.followingProgress},Ae=function(e){return e.usersPage.totalFriends},Le=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChange=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setPage(),this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(Ce,{}):null,Object(r.jsx)(L,Object(f.a)(Object(f.a)({},this.props),{},{onPageChange:this.onPageChange}))]})}}]),n}(o.a.Component),Me=Object(Se.d)(Object(g.b)((function(e){return{users:Ne(e),totalUsers:Ue(e),pageSize:Ie(e),currentPage:Te(e),isFetching:Fe(e),followingProgress:Ee(e),friendsCount:Ae(e)}}),{setCurrentPage:be,setTotalUsers:he,getUsers:function(e,t){return function(){var n=Object(B.a)(D.a.mark((function n(r){var s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(be(e)),r(me(!0)),n.next=4,H.getUsers(e,t);case 4:s=n.sent,r(me(!1)),r((a=s.items,{type:ee,users:a})),r(he(s.totalCount));case 8:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},unfollowUser:Pe,followUser:we,setPage:pe}),p.f)(Le),De=n(54),Be=n.n(De),Re=function(e){var t=Object(i.useState)(!1),n=Object(h.a)(t,2),s=n[0],a=n[1],c=Object(i.useState)(e.status),o=Object(h.a)(c,2),u=o[0],l=o[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return Object(r.jsxs)("div",{children:[!s&&Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:function(){a(!0)},children:e.status||"------"})}),s&&Object(r.jsx)("div",{children:Object(r.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},value:u,onBlur:function(){a(!1),e.updateStatus(u)}})})]})},ze=function(e){return e.profile?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:Be.a.back}),Object(r.jsxs)("div",{className:Be.a.name,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{className:Be.a.avatar,alt:"ava",src:e.profile.photos.large?e.profile.photos.large:"https://upload.wikimedia.org/wikipedia/ru/0/00/The_Child_aka_Baby_Yoda_%28Star_Wars%29.jpg"})}),Object(r.jsxs)("div",{className:Be.a.aboutYourself,children:[Object(r.jsx)(Re,{status:e.status,updateStatus:e.updateStatus}),e.profile.aboutMe,Object(r.jsx)("h3",{children:e.profile.fullName}),Object(r.jsx)("p",{children:e.profile.lookingForAJob?"lookingForAJob":"-"}),Object(r.jsx)("p",{children:e.profile.lookingForAJobDescription}),Object(r.jsx)("div",{children:e.profile.contacts.facebook})]}),Object(r.jsx)("div",{className:Be.a.contacts})]})]}):Object(r.jsx)(Ce,{})},He={posts:[{id:1,name:"Roman",userImage:"https://media4.s-nbcnews.com/j/MSNBC/Components/Video/201609/a_ov_Pepe_160928.focal-760x428.jpg",postText:"Ok, see you",likesCount:5},{id:2,name:"Andrew",userImage:"https://media4.s-nbcnews.com/j/MSNBC/Components/Video/201609/a_ov_Pepe_160928.focal-760x428.jpg",postText:"Hey",likesCount:6},{id:3,name:"Demin",userImage:"https://media4.s-nbcnews.com/j/MSNBC/Components/Video/201609/a_ov_Pepe_160928.focal-760x428.jpg",postText:"Nigga",likesCount:1}],profile:null,status:"",showingUserId:null},Ge="ADD_POST",Je="DELETE_POST",We="ADD_LIKE",Ve="SET_PROFILE",Ye="SET_STATUS",Ke="SET_SHOWING_USER_ID",Xe=function(e){return{type:Ve,profile:e}},Ze=function(e){return{type:Ye,status:e}},Qe=function(e){return{type:Ke,showingUserId:e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:var n={id:e.posts.length+1,name:"Bary",userImage:"https://media.pri.org/s3fs-public/styles/open_graph/public/story/images/Crying-Frog-Meme-06.jpg?itok=79C7E-DY",postText:t.newText,likesCount:0,comments:[],newCommentText:""};return Object(f.a)(Object(f.a)({},e),{},{newPostText:"",posts:[].concat(Object(R.a)(e.posts),[n])});case Je:return Object(f.a)(Object(f.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case We:return Object(f.a)(Object(f.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.postId?Object(f.a)(Object(f.a)({},e),{},{likesCount:++e.likesCount}):e}))});case Ve:return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});case Ye:return Object(f.a)(Object(f.a)({},e),{},{status:t.status});case Ke:return Object(f.a)(Object(f.a)({},e),{},{showingUserId:t.showingUserId});default:return e}},$e=n(107),et=n.n($e),tt=n(36),nt=n.n(tt),rt=function(e){return Object(r.jsxs)("div",{className:nt.a.post,children:[Object(r.jsxs)("div",{className:nt.a.cont,children:[Object(r.jsxs)("div",{className:nt.a.postInfo,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:nt.a.userAvatar,alt:"user avatar",src:e.userImg}),Object(r.jsx)("div",{children:e.name})]}),Object(r.jsx)("div",{className:nt.a.postMessage,children:e.postText})]}),Object(r.jsx)("button",{className:nt.a.delete,onClick:function(){e.deletePost(e.id)},children:"Delete"})]}),Object(r.jsxs)("div",{className:nt.a.like,children:[Object(r.jsx)("button",{onClick:function(){e.addLike(e.id)},children:Object(r.jsx)("img",{className:nt.a.likeLogo,alt:"like button",src:"https://cdn.worldvectorlogo.com/logos/like-2.svg",title:"Like"})}),Object(r.jsx)("span",{className:"like",children:" likes: "}),e.likesCount]})]})},st=n(141),at=n(142),ct=n(49),it=n(50),ot=Object(ct.a)(10),ut=Object(at.a)({form:"newPost"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(st.a,{placeholder:"New post",name:"newPost",component:it.b,validate:[ct.b,ot]})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Add post"})})]})})),lt=o.a.memo((function(e){console.log("Render");var t=e.posts.map((function(t){return Object(r.jsx)(rt,{id:t.id,name:t.name,userImg:t.userImage,postText:t.postText,likesCount:t.likesCount,addLike:e.addLikeAC,deletePost:e.deletePost},t.id)}));return console.log(e.newPostText),Object(r.jsxs)("div",{className:et.a.myPosts,children:[Object(r.jsx)("h3",{children:"My posts"}),Object(r.jsx)(ut,{onSubmit:function(t){console.log(t),e.addPostAC(t.newPost)}}),Object(r.jsx)("div",{className:et.a.posts,children:t})]})})),dt=Object(g.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addLikeAC:function(e){return{type:We,postId:e}},addPostAC:function(e){return{type:Ge,newText:e}},deletePost:function(e){return{type:Je,postId:e}}})(lt),jt=function(e){return e.profile?Object(r.jsxs)("div",{children:[Object(r.jsx)(ze,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(r.jsx)(dt,{})]}):Object(r.jsx)(Ce,{})},pt=n(139),bt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.mainUserId),this.props.getProfilePage(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(r.jsx)(jt,Object(f.a)(Object(f.a)({},this.props),{},{updateStatus:this.props.updateStatus}))}}]),n}(o.a.Component),ft=Object(Se.d)(Object(g.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,mainUserId:e.auth.userId,showingUserId:e.profilePage.showingUserId}}),{setUserProfile:Xe,setShowingUserId:Qe,getProfilePage:function(e){return function(){var t=Object(B.a)(D.a.mark((function t(n){var r,s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Qe(e)),t.next=3,V(e);case 3:return r=t.sent,n(Xe(r.data)),t.next=7,Y(e);case 7:s=t.sent,n(Ze(s.data));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(B.a)(D.a.mark((function t(n){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e);case 2:r=t.sent,n(Ze(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(B.a)(D.a.mark((function t(n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:0===t.sent.data.resultCode&&n(Ze(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f,pt.a)(bt),ht=n(35),Ot=n.n(ht),mt=function(e){return Object(r.jsxs)("header",{className:Ot.a.header+" "+(e.blackTheme&&Ot.a.headerBlack),children:[Object(r.jsxs)("div",{className:Ot.a.logo,children:[Object(r.jsx)("img",{alt:"img",src:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/062019/rage_against_the_machine-01.png?LE3JPx_L4z5gcXoUVhjrQiWd8KOOq3iJ&itok=gBeWUx92"}),Object(r.jsx)("div",{children:"Rebellion"})]}),Object(r.jsxs)("label",{className:Ot.a.switch,children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(t){e.isBlackTheme(t.currentTarget.checked)}}),Object(r.jsx)("span",{className:Ot.a.slider+" "+Ot.a.round})]}),Object(r.jsx)("div",{className:Ot.a.auth,children:e.isAuth&&e.profile?Object(r.jsxs)("div",{className:Ot.a.authInfo,children:[e.profile.photos.small," ",e.login,Object(r.jsx)("button",{className:Ot.a.logoutButton,onClick:e.logout,children:"Logout"})]}):Object(r.jsx)(b.b,{to:"/login",children:"Login"})})]})},gt=n(57),xt={userId:null,login:null,email:null,isAuth:!1,currentUser:null},vt="social-network/auth/SET_USER_DATA",_t="social-network/auth/SET_CURRENT_USER",Pt=function(e,t,n,r){return{type:vt,payload:{userId:e,login:t,email:n,isAuth:r}}},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return Object(f.a)(Object(f.a)({},e),t.payload);case _t:return Object(f.a)(Object(f.a)({},e),{},{currentUser:t.profile});default:return e}},kt=function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){var n,r,s,a,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(0!==(n=e.sent).data.resultCode){e.next=11;break}return r=n.data.data,s=r.id,a=r.login,c=r.email,t(Pt(s,a,c,!0)),e.next=8,V(s);case 8:i=e.sent,t((o=i.data,{type:_t,profile:o})),t(function(){var e=Object(B.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(me(!0)),e.next=3,X();case 3:n=e.sent,t(me(!1)),t(je(n.items)),t(Oe(n.totalCount));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}()},yt={initialized:!1,blackTheme:!1},Ct="INITIALIZED_SUCCESS",St="BLACK_THEME",Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});case St:return Object(f.a)(Object(f.a)({},e),{},{blackTheme:t.blackTheme});default:return e}},Ut=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(r.jsx)(mt,Object(f.a)({},this.props))}}]),n}(o.a.Component),It=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.auth.currentUser,blackTheme:e.app.blackTheme}}),{logout:function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===e.sent.resultCode&&t(Pt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},isBlackTheme:function(e){return{type:St,blackTheme:e}}})(Ut),Tt=n(43),Ft=n.n(Tt),Et=Object(at.a)({form:"login"})((function(e){return Object(r.jsx)("div",{className:Ft.a.form,children:Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(st.a,{placeholder:"Login",name:"email",component:it.a,validate:[ct.b]})}),Object(r.jsx)("div",{children:Object(r.jsx)(st.a,{placeholder:"Password",name:"password",type:"password",component:it.a,validate:[ct.b]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(st.a,{component:it.a,name:"rememberMe",type:"checkbox"}),"remember me"]}),e.error&&Object(r.jsx)("div",{className:Ft.a.formSummaryError,children:e.error}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Login"})})]})})})),At=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(B.a)(D.a.mark((function r(s){var a;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,J(e,t,n);case 2:0===(a=r.sent).resultCode?s(kt()):s(Object(gt.a)("login",{_error:a.messages}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(r.jsx)(p.a,{to:"/profile"}):Object(r.jsx)("div",{children:Object(r.jsx)(Et,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),Lt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChange=function(t){e.props.getFriends(t,e.props.pageSize)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setPage(),this.props.getFriends(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:["  ",this.props.isFetching?Object(r.jsx)(Ce,{}):null,Object(r.jsx)(L,Object(f.a)(Object(f.a)({},this.props),{},{onPageChange:this.onPageChange}))]})}}]),n}(o.a.Component),Mt=Object(g.b)((function(e){return{users:e.usersPage.friends,totalUsers:e.usersPage.totalFriends,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.friendsCurrentPage,isFetching:Fe(e),followingProgress:Ee(e),friendsCount:Ae(e)}}),{unfollowSuccess:de,setFriendsCurrentPage:fe,setTotalUsers:he,getFriends:function(e,t){return function(){var n=Object(B.a)(D.a.mark((function n(r){var s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(fe(e)),r(me(!0)),n.next=4,Z(e,t);case 4:s=n.sent,r(me(!1)),r((a=s.items,{type:te,friends:a})),r(Oe(s.totalCount));case 8:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},unfollowUser:Pe,followUser:we,setPage:pe})(Lt),Dt=n(140),Bt=n(152),Rt=n(143),zt=Object(Se.c)({profilePage:qe,dialogsPage:Dt.a,usersPage:ve,auth:wt,form:Rt.a,app:Nt}),Ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.d,Gt=Object(Se.e)(zt,Ht(Object(Se.a)(Bt.a)));window.store=Gt;var Jt=Gt,Wt=o.a.lazy((function(){return n.e(3).then(n.bind(null,318))})),Vt=o.a.lazy((function(){return n.e(5).then(n.bind(null,316))})),Yt=o.a.lazy((function(){return n.e(4).then(n.bind(null,317))})),Kt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(It,{}),Object(r.jsx)(N,{}),Object(r.jsx)("div",{className:"app-wrapper-content".concat(" ",this.props.blackTheme&&"app-wrapper-content-black"),children:Object(r.jsxs)(i.Suspense,{fallback:Object(r.jsx)(Ce,{}),children:[Object(r.jsx)(p.b,{path:"/dialogs",render:function(){return Object(r.jsx)(Wt,{})}}),Object(r.jsx)(p.b,{path:"/login",render:function(){return Object(r.jsx)(At,{})}}),Object(r.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(ft,{})}}),Object(r.jsx)(p.b,{path:"/news",component:Vt}),Object(r.jsx)(p.b,{path:"/users/:friends?",render:function(){return Object(r.jsx)(Me,{})}}),Object(r.jsx)(p.b,{path:"/music",component:Yt}),Object(r.jsx)(p.b,{path:"/friends",component:Mt}),Object(r.jsx)(p.b,{path:"/settings",component:m})]})})]}):Object(r.jsx)(Ce,{})}}]),n}(o.a.Component),Xt=Object(Se.d)(p.f,Object(g.b)((function(e){return{initialized:e.app.initialized,blackTheme:e.app.blackTheme}}),{initializeApp:function(){return function(e){e(kt()).then((function(){e({type:Ct})}))}}}))(Kt),Zt=function(){return Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(b.a,{basename:"/my-app",children:Object(r.jsx)(g.a,{store:Jt,children:Object(r.jsx)(Xt,{})})})})};c.a.render(Object(r.jsx)(Zt,{}),document.getElementById("root")),s()},35:function(e,t,n){e.exports={header:"Header_header__1VCKf",headerBlack:"Header_headerBlack__1giSV",logo:"Header_logo__3_SJs",auth:"Header_auth__22ubL",authInfo:"Header_authInfo__5ZUcn",logoutButton:"Header_logoutButton__21mWM",switch:"Header_switch__24V0X",slider:"Header_slider__L381q",round:"Header_round__3n_Np"}},36:function(e,t,n){e.exports={post:"Posts_post__22Pum",cont:"Posts_cont__1RLed",postMessage:"Posts_postMessage__3ak7i",postInfo:"Posts_postInfo__2cJFZ",userAvatar:"Posts_userAvatar__2zZ6U",like:"Posts_like__1AC9Q",likeLogo:"Posts_likeLogo__3SdeO",delete:"Posts_delete__29Ns5"}},43:function(e,t,n){e.exports={formControl:"FormControl_formControl__2tDgs",error:"FormControl_error__2w4xO",formSummaryError:"FormControl_formSummaryError__2J517",form:"FormControl_form__A7eRN"}},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r=function(e){if(!e)return"Field is required"},s=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(2),s=n(21),a=n(1),c=(n(0),n(43)),i=n.n(c),o=function(e){var t=e.input,n=e.meta,c=Object(s.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(a.jsxs)("div",{className:i.a.formControl+" "+(o?i.a.error:""),children:[Object(a.jsx)("div",{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},t),c))}),Object(a.jsx)("div",{children:o&&Object(a.jsx)("span",{children:n.error})})]})},u=function(e){var t=e.input,n=e.meta,c=Object(s.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(a.jsxs)("div",{className:i.a.formControl+" "+(o?i.a.error:""),children:[Object(a.jsx)("div",{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},t),c))}),Object(a.jsx)("div",{children:o&&Object(a.jsx)("span",{children:n.error})})]})}},54:function(e,t,n){e.exports={back:"ProfileInfo_back__26D4K",avatar:"ProfileInfo_avatar__3xuFq",name:"ProfileInfo_name__1VvQB",aboutYourself:"ProfileInfo_aboutYourself__7g-nW"}},84:function(e,t,n){e.exports={friend:"Friends_friend__39e-y",container:"Friends_container__2WFYX",name:"Friends_name__3fSIz"}}},[[311,1,2]]]);
//# sourceMappingURL=main.b5b5ae36.chunk.js.map