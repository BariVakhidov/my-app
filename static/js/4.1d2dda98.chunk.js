(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{244:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsM:"Dialogs_dialogsM__1-9GV",dialogsBlack:"Dialogs_dialogsBlack__1BP3m",dialogsItems:"Dialogs_dialogsItems__2sNe2",dialogsItemsM:"Dialogs_dialogsItemsM__2AxLm",dialogsItemsBlack:"Dialogs_dialogsItemsBlack__2fpYg",addDialog:"Dialogs_addDialog__d8fqN",dialog:"Dialogs_dialog__lk_cw",userImg:"Dialogs_userImg__3Tuob",messages:"Dialogs_messages__1w_Up",messagesBlack:"Dialogs_messagesBlack__2nU7L",sentMessage:"Dialogs_sentMessage__1dKK8",button:"Dialogs_button__UnW0m"}},258:function(e,s,a){e.exports={message:"Message_message__1MOXo",myMessage:"Message_myMessage__6CULW",userImg:"Message_userImg__VCAhi",text:"Message_text__3SVVn"}},306:function(e,s,a){"use strict";a.r(s);var t=a(106),i=a(7),c=a(27),n=a(0),r=a(1),l=a(244),d=a.n(l),g=a(24),o=a(35),j=function(e){var s="/dialogs/"+e.id;return Object(n.jsxs)("div",{className:d.a.dialog+" "+d.a.active,children:[Object(n.jsxs)(g.b,{to:"/profile/".concat(e.id),children:[" ",Object(n.jsx)("img",{alt:"User",className:d.a.userImg,src:e.photo?e.photo:o.a})]}),Object(n.jsx)(g.b,{to:s,activeClassName:d.a.active,children:e.name})]})},m=a(258),b=a.n(m),h=function(e){return e.id%2===0?Object(n.jsxs)("div",{className:b.a.myMessage,children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:b.a.userImg,src:e.currentUser.photos.large||o.a,alt:""})}),Object(n.jsx)("div",{className:b.a.text,children:e.message})]}):Object(n.jsxs)("div",{className:b.a.message,children:[Object(n.jsx)("div",{className:b.a.userImg,children:Object(n.jsx)(g.b,{to:"/friends/id",children:Object(n.jsx)("img",{src:o.a,alt:"Friend"})})}),Object(n.jsx)("div",{className:b.a.text,children:e.message})]})},u=a(11),_=a(305),O=a(304),x=a(2),p=a(56),v=a.n(p),f=function(e){var s=e.input,a=e.meta,t=Object(c.a)(e,["input","meta"]),i=a.touched&&a.error;return Object(n.jsxs)("div",{className:v.a.formControl+" "+(i?v.a.error:""),children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",Object(x.a)(Object(x.a)({},s),t))}),Object(n.jsx)("div",{children:i&&Object(n.jsx)("span",{children:a.error})})]})},M=a(112),k=a(16),C=a.n(k),N=a(22),D=a.p+"static/media/plus.477bb5ec.png",I=Object(M.a)(50),F=Object(O.a)({form:"newMessage"})((function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsx)("div",{children:Object(n.jsx)(_.a,{placeholder:"New message",name:"newMessage",component:f,validate:[M.b,I]})}),Object(n.jsx)("div",{children:Object(n.jsx)(N.a,{children:"Send"})})]})})),P=function(e){var s=e.chatFriends,a=e.getChatFriends,t=e.currentChatFriendsPage,l=e.setCurrentChatFriendsPage,g=Object(c.a)(e,["chatFriends","getChatFriends","currentChatFriendsPage","setCurrentChatFriendsPage"]),o=s.length/3;Object(r.useEffect)((function(){o!==t&&a(t)}),[a,t,o]);return g.isAuth?Object(n.jsxs)("div",{className:C()(g.isMobile?d.a.dialogsM:d.a.dialogs,Object(i.a)({},d.a.dialogsBlack,g.blackTheme)),children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:C()(g.isMobile?d.a.dialogsItemsM:d.a.dialogsItems,Object(i.a)({},d.a.dialogsItemsBlack,g.blackTheme)),children:s.map((function(e){return Object(n.jsx)(j,{photo:e.photos.small,name:e.name,id:e.id},e.id)}))}),Object(n.jsx)("div",{className:d.a.addDialog,children:Object(n.jsx)("img",{onClick:function(){l(t+1)},alt:"friend",src:D})})]}),Object(n.jsxs)("div",{className:C()(d.a.messages,Object(i.a)({},d.a.messagesBlack,g.blackTheme)),children:[Object(n.jsx)("div",{children:g.dialogsPage.messagesData.map((function(e){return Object(n.jsx)(h,{currentUser:g.currentUser,message:e.message,id:e.id},e.id)}))}),Object(n.jsx)("div",{className:d.a.sentMessage,children:Object(n.jsx)(F,{onSubmit:function(e){g.sendMessage(e.newMessage)}})})]})]}):Object(n.jsx)(u.a,{to:"/login"})},B=a(20),U=a(113),w=a(29);s.default=Object(w.d)(Object(B.b)((function(e){return{dialogsPage:e.dialogsPage,blackTheme:e.app.blackTheme,chatFriends:e.dialogsPage.chatFriends,currentChatFriendsPage:e.dialogsPage.currentChatFriendsPage,currentUser:e.auth.currentUser}}),{sendMessage:t.c,getChatFriends:t.b,setCurrentChatFriendsPage:t.d}),U.a)(P)}}]);
//# sourceMappingURL=4.1d2dda98.chunk.js.map