(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{334:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsM:"Dialogs_dialogsM__1-9GV",dialogsBlack:"Dialogs_dialogsBlack__1BP3m",dialogsItems:"Dialogs_dialogsItems__2sNe2",dialogsItemsM:"Dialogs_dialogsItemsM__2AxLm",dialogsItemsBlack:"Dialogs_dialogsItemsBlack__2fpYg",addDialog:"Dialogs_addDialog__d8fqN",dialog:"Dialogs_dialog__lk_cw",userImg:"Dialogs_userImg__3Tuob",messages:"Dialogs_messages__1w_Up",messagesBlack:"Dialogs_messagesBlack__2nU7L",sentMessage:"Dialogs_sentMessage__1dKK8",button:"Dialogs_button__UnW0m"}},335:function(e,s,a){e.exports={message:"Message_message__1MOXo",myMessage:"Message_myMessage__6CULW",userImg:"Message_userImg__VCAhi",text:"Message_text__3SVVn"}},339:function(e,s,a){"use strict";a.r(s);var t=a(137),i=a(8),c=a(29),n=a(1),l=a(0),d=a(334),r=a.n(d),g=a(28),o=a(47),m=function(e){var s="/dialogs/"+e.id;return Object(n.jsxs)("div",{className:r.a.dialog+" "+r.a.active,children:[Object(n.jsxs)(g.b,{to:"/profile/".concat(e.id),children:[" ",Object(n.jsx)("img",{alt:"User",className:r.a.userImg,src:e.photo?e.photo:o.a})]}),Object(n.jsx)(g.b,{to:s,activeClassName:r.a.active,children:e.name})]})},j=a(335),b=a.n(j),h=function(e){return e.id%2===0?Object(n.jsxs)("div",{className:b.a.myMessage,children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:b.a.userImg,src:e.currentUser.photos.large||o.a,alt:""})}),Object(n.jsx)("div",{className:b.a.text,children:e.message})]}):Object(n.jsxs)("div",{className:b.a.message,children:[Object(n.jsx)("div",{className:b.a.userImg,children:Object(n.jsx)(g.b,{to:"/friends/id",children:Object(n.jsx)("img",{src:o.a,alt:"Friend"})})}),Object(n.jsx)("div",{className:b.a.text,children:e.message})]})},_=a(14),u=a(159),O=a(160),x=a(55),p=a(56),M=a(21),f=a.n(M),v=a(26),k=a.p+"static/media/plus.477bb5ec.png",C=Object(p.a)(50),D=Object(O.a)({form:"newMessage"})((function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsx)("div",{children:Object(n.jsx)(u.a,{placeholder:"New message",name:"newMessage",component:x.b,validate:[p.b,C]})}),Object(n.jsx)("div",{children:Object(n.jsx)(v.a,{children:"Send"})})]})})),N=function(e){var s=e.chatFriends,a=e.getChatFriends,t=e.currentChatFriendsPage,d=e.setCurrentChatFriendsPage,g=Object(c.a)(e,["chatFriends","getChatFriends","currentChatFriendsPage","setCurrentChatFriendsPage"]),o=s.length/3;Object(l.useEffect)((function(){o!==t&&a(t)}),[a,t,o]);return g.isAuth?Object(n.jsxs)("div",{className:f()(g.isMobile?r.a.dialogsM:r.a.dialogs,Object(i.a)({},r.a.dialogsBlack,g.blackTheme)),children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:f()(g.isMobile?r.a.dialogsItemsM:r.a.dialogsItems,Object(i.a)({},r.a.dialogsItemsBlack,g.blackTheme)),children:s.map((function(e){return Object(n.jsx)(m,{photo:e.photos.small,name:e.name,id:e.id},e.id)}))}),Object(n.jsx)("div",{className:r.a.addDialog,children:Object(n.jsx)("img",{onClick:function(){d(t+1)},alt:"friend",src:k})})]}),Object(n.jsxs)("div",{className:f()(r.a.messages,Object(i.a)({},r.a.messagesBlack,g.blackTheme)),children:[Object(n.jsx)("div",{children:g.dialogsPage.messagesData.map((function(e){return Object(n.jsx)(h,{currentUser:g.currentUser,message:e.message,id:e.id},e.id)}))}),Object(n.jsx)("div",{className:r.a.sentMessage,children:Object(n.jsx)(D,{onSubmit:function(e){g.sendMessage(e.newMessage)}})})]})]}):Object(n.jsx)(_.a,{to:"/login"})},I=a(22),F=a(158),P=a(19);s.default=Object(P.d)(Object(I.b)((function(e){return{dialogsPage:e.dialogsPage,blackTheme:e.app.blackTheme,chatFriends:e.dialogsPage.chatFriends,currentChatFriendsPage:e.dialogsPage.currentChatFriendsPage,currentUser:e.auth.currentUser}}),{sendMessage:t.c,getChatFriends:t.b,setCurrentChatFriendsPage:t.d}),F.a)(N)}}]);
//# sourceMappingURL=3.779b0922.chunk.js.map