{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControls/FormsControl.jsx","assets/images/plus.png","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogsItem","props","path","id","className","s","dialog","active","to","alt","userImg","src","photo","profilePhoto","activeClassName","name","Message","myMessage","currentUser","photos","large","profileImage","text","message","TextArea","input","meta","hasError","touched","error","formControl","maxLength50","maxLength","NewMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","required","StyledButton","Dialogs","chatFriends","getChatFriends","currentChatFriendsPage","setCurrentChatFriendsPage","currentPage","length","useEffect","isAuth","cn","isMobile","dialogsM","dialogs","dialogsBlack","blackTheme","dialogsItemsM","dialogsItems","dialogsItemsBlack","map","f","small","addDialog","onClick","plus","messages","messagesBlack","dialogsPage","messagesData","m","sentMessage","formData","sendMessage","newMessage","compose","connect","state","app","auth","withAuthRedirect"],"mappings":"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","file":"static/js/4.1d2dda98.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsM\":\"Dialogs_dialogsM__1-9GV\",\"dialogsBlack\":\"Dialogs_dialogsBlack__1BP3m\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"dialogsItemsM\":\"Dialogs_dialogsItemsM__2AxLm\",\"dialogsItemsBlack\":\"Dialogs_dialogsItemsBlack__2fpYg\",\"addDialog\":\"Dialogs_addDialog__d8fqN\",\"dialog\":\"Dialogs_dialog__lk_cw\",\"userImg\":\"Dialogs_userImg__3Tuob\",\"messages\":\"Dialogs_messages__1w_Up\",\"messagesBlack\":\"Dialogs_messagesBlack__2nU7L\",\"sentMessage\":\"Dialogs_sentMessage__1dKK8\",\"button\":\"Dialogs_button__UnW0m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1MOXo\",\"myMessage\":\"Message_myMessage__6CULW\",\"userImg\":\"Message_userImg__VCAhi\",\"text\":\"Message_text__3SVVn\"};","import React from 'react';\nimport s from \"../Dialogs.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport profilePhoto from \"../../../assets/images/profile.jpg\"\n\nconst DialogsItem = (props) => {\n    let path = \"/dialogs/\" + props.id;\n    return (\n        <div className={s.dialog + \" \" + s.active}>\n            <NavLink to={`/profile/${props.id}`}> <img alt=\"User\" className={s.userImg}\n                                 src={props.photo ? props.photo : profilePhoto}/></NavLink>\n            <NavLink to={path} activeClassName={s.active}>{props.name}</NavLink>\n        </div>\n    );\n};\nexport default DialogsItem;","import React from 'react';\nimport s from \"./Message.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport profileImage from \"../../../assets/images/profile.jpg\"\n\nconst Message = (props) => {\n    if (props.id % 2 === 0) {\n        return (\n            <div className={s.myMessage}>\n                <div>\n                    <img className={s.userImg} src={props.currentUser.photos.large || profileImage} alt=\"\"/>\n                </div>\n                <div className={s.text}>{props.message}</div>\n            </div>\n        );\n    }\n    return (\n        <div className={s.message}>\n            <div className={s.userImg}><NavLink to=\"/friends/id\"><img src={profileImage} alt=\"Friend\"/></NavLink></div>\n            <div className={s.text}>{props.message}</div>\n        </div>\n    );\n}\nexport default Message;","import React from \"react\";\nimport s from \"./FormControl.module.css\"\n\nexport const TextArea = ({input, meta, ...props}) => {\n    const hasError = meta.touched && meta.error;\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            <div>\n                <textarea {...input} {...props}/>\n            </div>\n            <div>\n                {hasError && <span>{meta.error}</span>}\n            </div>\n        </div>\n    )\n}\n\nexport const Input = ({input, meta, ...props}) => {\n    const hasError = meta.touched && meta.error;\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            <div>\n                <input {...input} {...props}/>\n            </div>\n            <div>\n                {hasError && <span>{meta.error}</span>}\n            </div>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/plus.477bb5ec.png\";","import React, {useEffect} from \"react\";\nimport s from './Dialogs.module.css';\nimport DialogsItem from \"./DialogsItem/DialogsItem\";\nimport Message from \"./Message/Message\";\nimport {Redirect} from \"react-router\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {TextArea} from \"../common/FormsControls/FormsControl\";\nimport {maxLength, required} from \"../../utils/validators/validators\";\nimport cn from \"classnames\"\nimport StyledButton from \"../common/StyledButton\";\nimport plus from \"../../assets/images/plus.png\"\n\nconst Dialogs = ({chatFriends, getChatFriends, currentChatFriendsPage, setCurrentChatFriendsPage, ...props}) => {\n\n    let currentPage = chatFriends.length / 3;\n    useEffect(() => {\n        if (currentPage !== currentChatFriendsPage)\n            getChatFriends(currentChatFriendsPage);\n    }, [getChatFriends, currentChatFriendsPage, currentPage])\n    const onSubmit = (formData) => {\n        props.sendMessage(formData.newMessage);\n    }\n    if (!props.isAuth) return <Redirect to='/login'/>\n    return (\n        <div className={cn((!props.isMobile ? s.dialogs : s.dialogsM), {[s.dialogsBlack]: props.blackTheme})}>\n            <div>\n                <div\n                    className={cn((!props.isMobile ? s.dialogsItems : s.dialogsItemsM), {[s.dialogsItemsBlack]: props.blackTheme})}>{chatFriends.map(f =>\n                    <DialogsItem photo={f.photos.small} name={f.name} id={f.id} key={f.id}/>)}</div>\n                <div className={s.addDialog}>\n                    <img onClick={() => {\n                        setCurrentChatFriendsPage(currentChatFriendsPage + 1)\n                    }} alt=\"friend\"\n                         src={plus}/>\n                </div>\n            </div>\n            <div className={cn(s.messages, {[s.messagesBlack]: props.blackTheme})}>\n                <div>\n                    {props.dialogsPage.messagesData.map(m => <Message currentUser={props.currentUser}\n                                                                      message={m.message} id={m.id} key={m.id}/>)}\n                </div>\n                <div className={s.sentMessage}>\n                    <NewMessageReduxForm onSubmit={onSubmit}/>\n                </div>\n            </div>\n        </div>\n    );\n};\nconst maxLength50 = maxLength(50);\nconst NewMessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field placeholder={\"New message\"} name={\"newMessage\"} component={TextArea}\n                       validate={[required, maxLength50]}/>\n            </div>\n            <div>\n                <StyledButton>Send</StyledButton>\n            </div>\n        </form>\n    );\n};\nconst NewMessageReduxForm = reduxForm({form: 'newMessage'})(NewMessageForm)\nexport default Dialogs;\n","import {\n    getChatFriends,\n    sendMessage, setCurrentChatFriendsPage\n} from \"../../redux/dialogs-reducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nlet mapStateToProps = (state) => {\n    return {\n        dialogsPage: state.dialogsPage,\n        blackTheme: state.app.blackTheme,\n        chatFriends: state.dialogsPage.chatFriends,\n        currentChatFriendsPage:state.dialogsPage.currentChatFriendsPage,\n        currentUser: state.auth.currentUser\n    };\n};\n\nexport default compose(connect(mapStateToProps, {sendMessage,getChatFriends,setCurrentChatFriendsPage}),withAuthRedirect)(Dialogs);\n"],"sourceRoot":""}